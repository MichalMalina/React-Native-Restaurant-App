{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from\"react\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import{Card,Icon}from\"react-native-elements\";import{baseUrl}from\"../shared/baseUrl\";import{connect}from\"react-redux\";var mapStateToProps=function mapStateToProps(state){return{dishes:state.dishes,comments:state.comments};};function RenderDish(props){var dish=props.dish;if(dish!=null){return React.createElement(Card,{featuredTitle:dish.name,image:{uri:baseUrl+dish.image}},React.createElement(Text,{style:{margin:10}},dish.description,\" yamete\"),React.createElement(Icon,{name:props.favorite?\"heart\":\"heart-o\",raised:true,reverse:true,type:\"font-awesome\",color:\"#f50\",onPress:function onPress(){return props.favorite?console.log(\"already favored\"):props.onPress();}}));}else{return React.createElement(View,null);}}function RenderComments(props){var comments=props.comments;var renderCommentItem=function renderCommentItem(_ref){var item=_ref.item,index=_ref.index;return React.createElement(View,{key:index,style:{margin:10}},React.createElement(Text,{style:{fontSize:14}},item.comment),React.createElement(Text,{style:{fontSize:12}},item.rating,\" Stars\"),React.createElement(Text,{style:{fontSize:12}},'-- '+item.author+', '+item.date));};return React.createElement(Card,{title:\"Comments\"},React.createElement(FlatList,{data:comments,renderItem:renderCommentItem,keyExtractor:function keyExtractor(item){return item.id.toString();}}));}var Dishdetail=function(_Component){_inherits(Dishdetail,_Component);var _super=_createSuper(Dishdetail);function Dishdetail(props){var _this;_classCallCheck(this,Dishdetail);_this=_super.call(this,props);_this.state={favorites:[]};return _this;}_createClass(Dishdetail,[{key:\"markFavorite\",value:function markFavorite(dishId){this.setState({favorites:this.state.favorites.concat(dishId)});}},{key:\"render\",value:function render(){var _this2=this;var dishId=this.props.route.params.dishId;return React.createElement(ScrollView,null,React.createElement(RenderDish,{dish:this.props.dishes.dishes[+dishId],favorite:this.state.favorites.some(function(el){return el===dishId;}),onPress:function onPress(){return _this2.markFavorite(dishId);}}),React.createElement(RenderComments,{comments:this.props.comments.comments.filter(function(comment){return comment.dishId===dishId;})}));}}]);return Dishdetail;}(Component);export default connect(mapStateToProps)(Dishdetail);","map":{"version":3,"sources":["C:/Users/Michal/WebstormProjects/new_react/my-react-app/components/DishdetailComponent.js"],"names":["React","Component","Card","Icon","baseUrl","connect","mapStateToProps","state","dishes","comments","RenderDish","props","dish","name","uri","image","margin","description","favorite","console","log","onPress","RenderComments","renderCommentItem","item","index","fontSize","comment","rating","author","date","id","toString","Dishdetail","favorites","dishId","setState","concat","route","params","some","el","markFavorite","filter"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {ScrollView, Text, View} from \"react-native\";\r\nimport {FlatList} from \"react-native\";\r\nimport {Card, Icon} from \"react-native-elements\";\r\nimport {baseUrl} from \"../shared/baseUrl\";\r\nimport {connect} from \"react-redux\"\r\n\r\n\r\nconst mapStateToProps = state=> {\r\n    return {\r\n        dishes: state.dishes,\r\n        comments: state.comments,\r\n\r\n    }\r\n};\r\n\r\nfunction RenderDish  (props) {\r\n\r\n    const dish = props.dish;\r\n\r\n    if(dish != null)\r\n    {   return(\r\n        <Card\r\n            featuredTitle={dish.name}\r\n            image={{uri: baseUrl + dish.image}}>\r\n            <Text style={{margin: 10}}>{dish.description} yamete</Text>\r\n            <Icon name={ props.favorite ? \"heart\" : \"heart-o\"  }\r\n                  raised\r\n                  reverse\r\n                  type=\"font-awesome\"\r\n                  color=\"#f50\"\r\n                  onPress={() => props.favorite ? console.log(\"already favored\") : props.onPress()}\r\n            />\r\n        </Card>\r\n    );}\r\n    else {\r\n      return (<View></View>);\r\n    }\r\n}\r\n\r\nfunction RenderComments(props) {\r\n\r\n    const comments = props.comments;\r\n\r\n    const renderCommentItem = ({item, index}) => {\r\n\r\n        return (\r\n            <View key={index} style={{margin: 10}}>\r\n                <Text style={{fontSize: 14}}>{item.comment}</Text>\r\n                <Text style={{fontSize: 12}}>{item.rating} Stars</Text>\r\n                <Text style={{fontSize: 12}}>{'-- ' + item.author + ', ' + item.date}</Text>\r\n            </View>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Card title='Comments'>\r\n            <FlatList\r\n                data={comments}\r\n                renderItem={renderCommentItem}\r\n                keyExtractor={item => item.id.toString()}\r\n            />\r\n        </Card>\r\n    );\r\n}\r\n\r\n\r\nclass Dishdetail extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            favorites:[]\r\n        };\r\n    }\r\n\r\n    markFavorite(dishId) {\r\nthis.setState({favorites: this.state.favorites.concat(dishId)})\r\n    }\r\n\r\n    render() {\r\n\r\n        const dishId = this.props.route.params.dishId;\r\n\r\n        return (\r\n            <ScrollView>\r\n            <RenderDish dish = {this.props.dishes.dishes[+dishId]} favorite={this.state.favorites.some((el) => el === dishId)}\r\n            onPress={() => this.markFavorite(dishId)}\r\n            />\r\n                <RenderComments comments={this.props.comments.comments.filter((comment) => comment.dishId === dishId )} />\r\n            </ScrollView>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps) (Dishdetail);\r\n"]},"metadata":{},"sourceType":"module"}