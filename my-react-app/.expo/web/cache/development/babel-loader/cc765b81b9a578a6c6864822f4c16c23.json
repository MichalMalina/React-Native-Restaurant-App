{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Michal\\\\WebstormProjects\\\\new_react\\\\my-react-app\\\\components\\\\FavoriteComponent.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { ListItem } from \"react-native-elements\";\nimport Loading from \"./LoadingComponent\";\nimport { connect } from \"react-redux\";\nimport { baseUrl } from \"../shared/baseUrl\";\nimport { deleteFavorite as _deleteFavorite } from \"../redux/ActionCreators\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    dishes: state.dishes,\n    favorites: state.favorites\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    deleteFavorite: function deleteFavorite(dishId) {\n      return dispatch(_deleteFavorite(dishId));\n    }\n  };\n};\n\nvar Favorites = function (_Component) {\n  _inherits(Favorites, _Component);\n\n  var _super = _createSuper(Favorites);\n\n  function Favorites() {\n    _classCallCheck(this, Favorites);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Favorites, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var navigate = this.props.navigation.navigate;\n\n      var renderMenuItem = function renderMenuItem(_ref) {\n        var item = _ref.item,\n            index = _ref.index;\n        return React.createElement(ListItem, {\n          key: index,\n          title: item.name,\n          subtitle: item.description,\n          hideChevron: true,\n          onPress: function onPress() {\n            return navigate('Dishdetail', {\n              dishId: item.id\n            });\n          },\n          leftAvatar: {\n            source: {\n              uri: baseUrl + item.image\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }\n        });\n      };\n\n      if (this.props.dishes.isLoading) {\n        return React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }\n        });\n      } else if (this.props.dishes.errMess) {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 18\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 24\n          }\n        }, this.props.dishes.errMess));\n      } else {\n        return React.createElement(FlatList, {\n          data: this.props.dishes.dishes.filter(function (dish) {\n            return _this.props.favorites.some(function (el) {\n              return el === dish.id;\n            });\n          }),\n          renderItem: renderMenuItem,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }\n        });\n      }\n    }\n  }]);\n\n  return Favorites;\n}(Component);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);","map":{"version":3,"sources":["C:/Users/Michal/WebstormProjects/new_react/my-react-app/components/FavoriteComponent.js"],"names":["React","Component","ListItem","Loading","connect","baseUrl","deleteFavorite","mapStateToProps","state","dishes","favorites","mapDispatchToProps","dispatch","dishId","Favorites","navigate","props","navigation","renderMenuItem","item","index","name","description","id","source","uri","image","isLoading","errMess","filter","dish","some","el","toString"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;;;;;AAEA,SAAQC,QAAR,QAAuB,uBAAvB;AACA,OAAOC,OAAP;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,OAAR;AACA,SAAQC,cAAc,IAAdA,eAAR;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC7B,SAAO;AACHC,IAAAA,MAAM,EAAED,KAAK,CAACC,MADX;AAEHC,IAAAA,SAAS,EAAEF,KAAK,CAACE;AAFd,GAAP;AAIH,CALD;;AAOA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD;AAAA,SAAe;AAClCN,IAAAA,cAAc,EAAE,wBAACO,MAAD;AAAA,aAAYD,QAAQ,CAACN,eAAc,CAACO,MAAD,CAAf,CAApB;AAAA;AADkB,GAAf;AAAA,CAA3B;;IAKMC,S;;;;;;;;;;;;;6BAEO;AAAA;;AAAA,UACEC,QADF,GACc,KAAKC,KAAL,CAAWC,UADzB,CACEF,QADF;;AAGL,UAAMG,cAAc,GAAG,SAAjBA,cAAiB,OAAoB;AAAA,YAAlBC,IAAkB,QAAlBA,IAAkB;AAAA,YAAXC,KAAW,QAAXA,KAAW;AA2BvC,eAEI,oBAAC,QAAD;AACI,UAAA,GAAG,EAAEA,KADT;AAEI,UAAA,KAAK,EAAED,IAAI,CAACE,IAFhB;AAGI,UAAA,QAAQ,EAAEF,IAAI,CAACG,WAHnB;AAII,UAAA,WAAW,EAAE,IAJjB;AAKI,UAAA,OAAO,EAAE;AAAA,mBAAMP,QAAQ,CAAC,YAAD,EAAe;AAAEF,cAAAA,MAAM,EAAEM,IAAI,CAACI;AAAf,aAAf,CAAd;AAAA,WALb;AAMI,UAAA,UAAU,EAAE;AAACC,YAAAA,MAAM,EAAE;AAACC,cAAAA,GAAG,EAACpB,OAAO,GAAGc,IAAI,CAACO;AAApB;AAAT,WANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAYH,OAvCD;;AAyCA,UAAG,KAAKV,KAAL,CAAWP,MAAX,CAAkBkB,SAArB,EACA;AACI,eAAQ,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AACH,OAHD,MAKK,IAAG,KAAKX,KAAL,CAAWP,MAAX,CAAkBmB,OAArB,EACL;AAAC,eAAQ,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAM,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAO,KAAKZ,KAAL,CAAWP,MAAX,CAAkBmB,OAAzB,CAAN,CAAR;AAA+D,OAD3D,MAIA;AACD,eACI,oBAAC,QAAD;AAAU,UAAA,IAAI,EAAE,KAAKZ,KAAL,CAAWP,MAAX,CAAkBA,MAAlB,CAAyBoB,MAAzB,CAAgC,UAAAC,IAAI;AAAA,mBAAI,KAAI,CAACd,KAAL,CAAWN,SAAX,CAAqBqB,IAArB,CAA0B,UAAAC,EAAE;AAAA,qBAAIA,EAAE,KAAKF,IAAI,CAACP,EAAhB;AAAA,aAA5B,CAAJ;AAAA,WAApC,CAAhB;AACU,UAAA,UAAU,EAAEL,cADtB;AAEU,UAAA,YAAY,EAAE,sBAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACI,EAAL,CAAQU,QAAR,EAAJ;AAAA,WAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;AACJ;;;;EA/DmBhC,S;;AAmExB,eAAeG,OAAO,CAACG,eAAD,EAAmBI,kBAAnB,CAAP,CAA8CG,SAA9C,CAAf","sourcesContent":["import React , {Component} from \"react\"\r\nimport {View , FlatList , Text , Alert } from \"react-native\";\r\nimport {ListItem} from \"react-native-elements\";\r\nimport Loading from \"./LoadingComponent\"\r\nimport {connect} from \"react-redux\";\r\nimport {baseUrl} from \"../shared/baseUrl\";\r\nimport {deleteFavorite} from \"../redux/ActionCreators\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        dishes: state.dishes,\r\n        favorites: state.favorites\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n        deleteFavorite :(dishId) => dispatch(deleteFavorite(dishId))\r\n    }\r\n);\r\n\r\nclass Favorites extends Component {\r\n\r\n    render() {\r\n        const {navigate} = this.props.navigation;\r\n\r\n        const renderMenuItem = ({item , index}) => {\r\n         /*   const rightButton = [\r\n                {\r\n                    text: 'Delete',\r\n                    type: 'delete',\r\n                    onPress: () => {\r\n                        Alert.alert(\r\n                            'Delete Favorite?',\r\n                            'Are you sure you wish to delete the favorite dish ' + item.name + '?',\r\n                            [\r\n                                {\r\n                                    text: 'Cancel',\r\n                                    onPress: () => console.log(item.name + 'Not Deleted'),\r\n                                    style: ' cancel'\r\n                                },\r\n                                {\r\n                                    text: 'OK',\r\n                                    onPress: () => this.props.deleteFavorite(item.id)\r\n                                }\r\n                            ],\r\n                            { cancelable: false }\r\n                        );\r\n\r\n                    }\r\n                }\r\n            ];*/\r\n\r\n            return(\r\n\r\n                <ListItem\r\n                    key={index}\r\n                    title={item.name}\r\n                    subtitle={item.description}\r\n                    hideChevron={true}\r\n                    onPress={() => navigate('Dishdetail', { dishId: item.id })}\r\n                    leftAvatar={{source: {uri:baseUrl + item.image}}}\r\n                ></ListItem>\r\n\r\n            )\r\n        };\r\n\r\n        if(this.props.dishes.isLoading)\r\n        {\r\n            return (<Loading/>)\r\n        }\r\n\r\n        else if(this.props.dishes.errMess)\r\n        {return (<View><Text>{this.props.dishes.errMess}</Text></View>)}\r\n\r\n\r\n        else {\r\n            return (\r\n                <FlatList data={this.props.dishes.dishes.filter(dish => this.props.favorites.some(el => el === dish.id))}\r\n                          renderItem={renderMenuItem}\r\n                          keyExtractor={item => item.id.toString()}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps , mapDispatchToProps)(Favorites);\r\n"]},"metadata":{},"sourceType":"module"}