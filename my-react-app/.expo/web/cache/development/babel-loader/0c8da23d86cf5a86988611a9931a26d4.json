{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Michal\\\\WebstormProjects\\\\new_react\\\\my-react-app\\\\components\\\\FavoriteComponent.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport { ListItem } from \"react-native-elements\";\nimport Loading from \"./LoadingComponent\";\nimport { connect } from \"react-redux\";\nimport { baseUrl } from \"../shared/baseUrl\";\nimport Swipeout from \"react-native-swipeout\";\nimport { deleteFavorite as _deleteFavorite } from \"../redux/ActionCreators\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    dishes: state.dishes,\n    favorites: state.favorites\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    deleteFavorite: function deleteFavorite(dishId) {\n      return dispatch(_deleteFavorite(dishId));\n    }\n  };\n};\n\nvar Favorites = function (_Component) {\n  _inherits(Favorites, _Component);\n\n  var _super = _createSuper(Favorites);\n\n  function Favorites(props) {\n    var _this;\n\n    _classCallCheck(this, Favorites);\n\n    _this = _super.call(this, props);\n    _this.animatedValue = new Animated.Value(0);\n    return _this;\n  }\n\n  _createClass(Favorites, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.animate();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this2 = this;\n\n      this.animatedValue.setValue(0);\n      Animated.timing(this.animatedValue, {\n        toValue: 8,\n        duration: 8000,\n        easing: Easing.linear\n      }).start(function () {\n        return _this2.animate();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var navigate = this.props.navigation.navigate;\n      var x1 = this.animatedValue.interpolate({\n        inputRange: [0, 1, 3, 5, 8],\n        outputRange: []\n      });\n\n      var renderMenuItem = function renderMenuItem(_ref) {\n        var item = _ref.item,\n            index = _ref.index;\n        var rightButton = [{\n          text: 'Delete',\n          type: 'delete',\n          onPress: function onPress() {\n            Alert.alert('Delete Favorite?', 'Are you sure you wish to delete the favorite dish ' + item.name + '?', [{\n              text: 'Cancel',\n              onPress: function onPress() {\n                return console.log(item.name + 'Not Deleted');\n              },\n              style: ' cancel'\n            }, {\n              text: 'OK',\n              onPress: function onPress() {\n                return _this3.props.deleteFavorite(item.id);\n              }\n            }], {\n              cancelable: false\n            });\n          }\n        }];\n        return React.createElement(Swipeout, {\n          right: rightButton,\n          autoClose: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }\n        }, React.createElement(ListItem, {\n          key: index,\n          title: item.name,\n          subtitle: item.description,\n          hideChevron: true,\n          onPress: function onPress() {\n            return navigate('Dishdetail', {\n              dishId: item.id\n            });\n          },\n          leftAvatar: {\n            source: {\n              uri: baseUrl + item.image\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }\n        }));\n      };\n\n      if (this.props.dishes.isLoading) {\n        return React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }\n        });\n      } else if (this.props.dishes.errMess) {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 18\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 24\n          }\n        }, this.props.dishes.errMess));\n      } else {\n        return React.createElement(FlatList, {\n          data: this.props.dishes.dishes.filter(function (dish) {\n            return _this3.props.favorites.some(function (el) {\n              return el === dish.id;\n            });\n          }),\n          renderItem: renderMenuItem,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }\n        });\n      }\n    }\n  }]);\n\n  return Favorites;\n}(Component);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);","map":{"version":3,"sources":["C:/Users/Michal/WebstormProjects/new_react/my-react-app/components/FavoriteComponent.js"],"names":["React","Component","ListItem","Loading","connect","baseUrl","Swipeout","deleteFavorite","mapStateToProps","state","dishes","favorites","mapDispatchToProps","dispatch","dishId","Favorites","props","animatedValue","Animated","Value","animate","setValue","timing","toValue","duration","easing","Easing","linear","start","navigate","navigation","x1","interpolate","inputRange","outputRange","renderMenuItem","item","index","rightButton","text","type","onPress","Alert","alert","name","console","log","style","id","cancelable","description","source","uri","image","isLoading","errMess","filter","dish","some","el","toString"],"mappings":"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","sourcesContent":["import React , {Component} from \"react\"\r\nimport {View , FlatList , Text , Alert , Animated , Easing} from \"react-native\";\r\nimport {ListItem} from \"react-native-elements\";\r\nimport Loading from \"./LoadingComponent\"\r\nimport {connect} from \"react-redux\";\r\nimport {baseUrl} from \"../shared/baseUrl\";\r\nimport Swipeout from \"react-native-swipeout\";\r\nimport {deleteFavorite} from \"../redux/ActionCreators\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        dishes: state.dishes,\r\n        favorites: state.favorites\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n        deleteFavorite :(dishId) => dispatch(deleteFavorite(dishId))\r\n    }\r\n);\r\n\r\nclass Favorites extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.animatedValue = new Animated.Value(0);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.animate()\r\n    }\r\n\r\n    animate() {\r\n        this.animatedValue.setValue(0);\r\n        Animated.timing(\r\n            this.animatedValue,\r\n            {\r\n                toValue:8,\r\n                duration:8000,\r\n                easing:Easing.linear\r\n            }\r\n        ).start(() =>this.animate())\r\n    }\r\n\r\n    render() {\r\n        const {navigate} = this.props.navigation;\r\n\r\n        const x1 = this.animatedValue.interpolate({\r\n            inputRange: [0, 1, 3, 5, 8],\r\n            outputRange: []\r\n        })\r\n\r\n        const renderMenuItem = ({item , index}) => {\r\n            const rightButton = [\r\n                {\r\n                    text: 'Delete',\r\n                    type: 'delete',\r\n                    onPress: () => {\r\n                        Alert.alert(\r\n                            'Delete Favorite?',\r\n                            'Are you sure you wish to delete the favorite dish ' + item.name + '?',\r\n                            [\r\n                                {\r\n                                    text: 'Cancel',\r\n                                    onPress: () => console.log(item.name + 'Not Deleted'),\r\n                                    style: ' cancel'\r\n                                },\r\n                                {\r\n                                    text: 'OK',\r\n                                    onPress: () => this.props.deleteFavorite(item.id)\r\n                                }\r\n                            ],\r\n                            { cancelable: false }\r\n                        );\r\n\r\n                    }\r\n                }\r\n            ];\r\n\r\n            return(\r\n                <Swipeout right={rightButton} autoClose={true}>\r\n                <ListItem\r\n                    key={index}\r\n                    title={item.name}\r\n                    subtitle={item.description}\r\n                    hideChevron={true}\r\n                    onPress={() => navigate('Dishdetail', { dishId: item.id })}\r\n                    leftAvatar={{source: {uri:baseUrl + item.image}}}\r\n                ></ListItem>\r\n                </Swipeout>\r\n            )\r\n        };\r\n\r\n        if(this.props.dishes.isLoading)\r\n        {\r\n            return (<Loading/>)\r\n        }\r\n\r\n        else if(this.props.dishes.errMess)\r\n        {return (<View><Text>{this.props.dishes.errMess}</Text></View>)}\r\n\r\n\r\n        else {\r\n            return (\r\n                <FlatList data={this.props.dishes.dishes.filter(dish => this.props.favorites.some(el => el === dish.id))}\r\n                          renderItem={renderMenuItem}\r\n                          keyExtractor={item => item.id.toString()}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps , mapDispatchToProps)(Favorites);\r\n"]},"metadata":{},"sourceType":"module"}