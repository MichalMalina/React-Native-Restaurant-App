{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Michal\\\\WebstormProjects\\\\new_react\\\\my-react-app\\\\components\\\\FavoriteComponent.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { ListItem } from \"react-native-elements\";\nimport Loading from \"./LoadingComponent\";\nimport { connect } from \"react-redux\";\nimport { baseUrl } from \"../shared/baseUrl\";\nimport Swipeout from \"react-native-swipeout\";\nimport { deleteFavorite as _deleteFavorite } from \"../redux/ActionCreators\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    dishes: state.dishes,\n    favorites: state.favorites\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    deleteFavorite: function deleteFavorite(dishId) {\n      return dispatch(_deleteFavorite(dishId));\n    }\n  };\n};\n\nvar Favorites = function (_Component) {\n  _inherits(Favorites, _Component);\n\n  var _super = _createSuper(Favorites);\n\n  function Favorites() {\n    _classCallCheck(this, Favorites);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Favorites, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var navigate = this.props.navigation.navigate;\n\n      var renderMenuItem = function renderMenuItem(_ref) {\n        var item = _ref.item,\n            index = _ref.index;\n        var rightButton = [{\n          text: \"Delete\",\n          type: \"delete\",\n          onPress: function onPress() {\n            return _this.props.deleteFavorite(item.id);\n          }\n        }];\n        return React.createElement(Swipeout, {\n          right: rightButton,\n          autoClose: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 17\n          }\n        }, React.createElement(ListItem, {\n          key: index,\n          title: item.name,\n          subtitle: item.description,\n          hideChevron: true,\n          onPress: function onPress() {\n            return navigate('Dishdetail', {\n              dishId: item.id\n            });\n          },\n          leftAvatar: {\n            source: {\n              uri: baseUrl + item.image\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 17\n          }\n        }));\n      };\n\n      if (this.props.dishes.isLoading) {\n        return React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }\n        });\n      } else if (this.props.dishes.errMess) {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 18\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 24\n          }\n        }, this.props.dishes.errMess));\n      } else {\n        return React.createElement(FlatList, {\n          data: this.props.dishes.dishes.filter(function (dish) {\n            return _this.props.favorites.some(function (el) {\n              return el === dish.id;\n            });\n          }),\n          renderItem: renderMenuItem,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }\n        });\n      }\n    }\n  }]);\n\n  return Favorites;\n}(Component);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);","map":{"version":3,"sources":["C:/Users/Michal/WebstormProjects/new_react/my-react-app/components/FavoriteComponent.js"],"names":["React","Component","ListItem","Loading","connect","baseUrl","Swipeout","deleteFavorite","mapStateToProps","state","dishes","favorites","mapDispatchToProps","dispatch","dishId","Favorites","navigate","props","navigation","renderMenuItem","item","index","rightButton","text","type","onPress","id","name","description","source","uri","image","isLoading","errMess","filter","dish","some","el","toString"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;;;;AAEA,SAAQC,QAAR,QAAuB,uBAAvB;AACA,OAAOC,OAAP;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,OAAR;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,SAAQC,cAAc,IAAdA,eAAR;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC7B,SAAO;AACHC,IAAAA,MAAM,EAAED,KAAK,CAACC,MADX;AAEHC,IAAAA,SAAS,EAAEF,KAAK,CAACE;AAFd,GAAP;AAIH,CALD;;AAOA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD;AAAA,SAAe;AAClCN,IAAAA,cAAc,EAAE,wBAACO,MAAD;AAAA,aAAYD,QAAQ,CAACN,eAAc,CAACO,MAAD,CAAf,CAApB;AAAA;AADkB,GAAf;AAAA,CAA3B;;IAKMC,S;;;;;;;;;;;;;6BACO;AAAA;;AAAA,UACEC,QADF,GACc,KAAKC,KAAL,CAAWC,UADzB,CACEF,QADF;;AAGL,UAAMG,cAAc,GAAG,SAAjBA,cAAiB,OAAoB;AAAA,YAAlBC,IAAkB,QAAlBA,IAAkB;AAAA,YAAXC,KAAW,QAAXA,KAAW;AACvC,YAAMC,WAAW,GAAG,CAChB;AACIC,UAAAA,IAAI,EAAC,QADT;AAEIC,UAAAA,IAAI,EAAC,QAFT;AAGIC,UAAAA,OAAO,EAAG;AAAA,mBAAM,KAAI,CAACR,KAAL,CAAWV,cAAX,CAA0Ba,IAAI,CAACM,EAA/B,CAAN;AAAA;AAHd,SADgB,CAApB;AAQA,eACI,oBAAC,QAAD;AAAU,UAAA,KAAK,EAAEJ,WAAjB;AAA8B,UAAA,SAAS,EAAE,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA,oBAAC,QAAD;AACI,UAAA,GAAG,EAAED,KADT;AAEI,UAAA,KAAK,EAAED,IAAI,CAACO,IAFhB;AAGI,UAAA,QAAQ,EAAEP,IAAI,CAACQ,WAHnB;AAII,UAAA,WAAW,EAAE,IAJjB;AAKI,UAAA,OAAO,EAAE;AAAA,mBAAMZ,QAAQ,CAAC,YAAD,EAAe;AAAEF,cAAAA,MAAM,EAAEM,IAAI,CAACM;AAAf,aAAf,CAAd;AAAA,WALb;AAMI,UAAA,UAAU,EAAE;AAACG,YAAAA,MAAM,EAAE;AAACC,cAAAA,GAAG,EAACzB,OAAO,GAAGe,IAAI,CAACW;AAApB;AAAT,WANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA,CADJ;AAYH,OArBD;;AAuBA,UAAG,KAAKd,KAAL,CAAWP,MAAX,CAAkBsB,SAArB,EACA;AACI,eAAQ,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AACH,OAHD,MAKK,IAAG,KAAKf,KAAL,CAAWP,MAAX,CAAkBuB,OAArB,EACL;AAAC,eAAQ,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAM,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAO,KAAKhB,KAAL,CAAWP,MAAX,CAAkBuB,OAAzB,CAAN,CAAR;AAA+D,OAD3D,MAIA;AACD,eACI,oBAAC,QAAD;AAAU,UAAA,IAAI,EAAE,KAAKhB,KAAL,CAAWP,MAAX,CAAkBA,MAAlB,CAAyBwB,MAAzB,CAAgC,UAAAC,IAAI;AAAA,mBAAI,KAAI,CAAClB,KAAL,CAAWN,SAAX,CAAqByB,IAArB,CAA0B,UAAAC,EAAE;AAAA,qBAAIA,EAAE,KAAKF,IAAI,CAACT,EAAhB;AAAA,aAA5B,CAAJ;AAAA,WAApC,CAAhB;AACU,UAAA,UAAU,EAAEP,cADtB;AAEU,UAAA,YAAY,EAAE,sBAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACM,EAAL,CAAQY,QAAR,EAAJ;AAAA,WAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;AACJ;;;;EA5CmBrC,S;;AAgDxB,eAAeG,OAAO,CAACI,eAAD,EAAmBI,kBAAnB,CAAP,CAA8CG,SAA9C,CAAf","sourcesContent":["import React , {Component} from \"react\"\r\nimport {View , FlatList , Text} from \"react-native\";\r\nimport {ListItem} from \"react-native-elements\";\r\nimport Loading from \"./LoadingComponent\"\r\nimport {connect} from \"react-redux\";\r\nimport {baseUrl} from \"../shared/baseUrl\";\r\nimport Swipeout from \"react-native-swipeout\";\r\nimport {deleteFavorite} from \"../redux/ActionCreators\";\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        dishes: state.dishes,\r\n        favorites: state.favorites\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n        deleteFavorite :(dishId) => dispatch(deleteFavorite(dishId))\r\n    }\r\n);\r\n\r\nclass Favorites extends Component {\r\n    render() {\r\n        const {navigate} = this.props.navigation;\r\n\r\n        const renderMenuItem = ({item , index}) => {\r\n            const rightButton = [\r\n                {\r\n                    text:\"Delete\",\r\n                    type:\"delete\",\r\n                    onPress : () => this.props.deleteFavorite(item.id)\r\n                }\r\n            ];\r\n\r\n            return(\r\n                <Swipeout right={rightButton} autoClose={true}>\r\n                <ListItem\r\n                    key={index}\r\n                    title={item.name}\r\n                    subtitle={item.description}\r\n                    hideChevron={true}\r\n                    onPress={() => navigate('Dishdetail', { dishId: item.id })}\r\n                    leftAvatar={{source: {uri:baseUrl + item.image}}}\r\n                ></ListItem>\r\n                </Swipeout>\r\n            )\r\n        };\r\n\r\n        if(this.props.dishes.isLoading)\r\n        {\r\n            return (<Loading/>)\r\n        }\r\n\r\n        else if(this.props.dishes.errMess)\r\n        {return (<View><Text>{this.props.dishes.errMess}</Text></View>)}\r\n\r\n\r\n        else {\r\n            return (\r\n                <FlatList data={this.props.dishes.dishes.filter(dish => this.props.favorites.some(el => el === dish.id))}\r\n                          renderItem={renderMenuItem}\r\n                          keyExtractor={item => item.id.toString()}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps , mapDispatchToProps)(Favorites);\r\n"]},"metadata":{},"sourceType":"module"}