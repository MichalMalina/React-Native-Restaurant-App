{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Michal\\\\WebstormProjects\\\\new_react\\\\my-react-app\\\\components\\\\ReserveComponent.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport DatePicker from \"react-native-datepicker\";\nimport * as Animatable from \"react-native-animatable\";\nimport { Notifications } from \"expo\";\nimport * as Permissions from \"expo-permissions\";\n\nvar Reserve = function (_Component) {\n  _inherits(Reserve, _Component);\n\n  var _super = _createSuper(Reserve);\n\n  function Reserve(props) {\n    var _this;\n\n    _classCallCheck(this, Reserve);\n\n    _this = _super.call(this, props);\n\n    _this.formAlert = function () {\n      return Alert.alert(\"Your Reservation OK?\", \"Number of guests: \" + _this.state.guests + \"\\nSmoking? \" + _this.smoking() + \"\\nDate and Time \" + _this.state.date + \"\\n\", [{\n        text: \"Ok\",\n        onPress: function onPress() {\n          return console.log(JSON.stringify(_this.state), _this.resetForm());\n        }\n      }, {\n        text: \"Cancel\",\n        onPress: function onPress() {\n          return _this.resetForm();\n        },\n        style: \"cancel\"\n      }], {\n        cancelable: false\n      });\n    };\n\n    _this.state = {\n      smoking: false,\n      date: \"\",\n      guests: 1,\n      showModal: false\n    };\n    return _this;\n  }\n\n  _createClass(Reserve, [{\n    key: \"getPermissions\",\n    value: function getPermissions() {\n      var permission;\n      return _regeneratorRuntime.async(function getPermissions$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.getAsync(Permissions.USER_FACING_NOTIFICATIONS));\n\n            case 2:\n              permission = _context.sent;\n\n              if (!(permission.status !== \"granted\")) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(Permissions.getAsync(Permissions.USER_FACING_NOTIFICATIONS));\n\n            case 6:\n              permission = _context.sent;\n\n              if (permission.status !== \"granted\") {\n                Alert.alert(\"Permission not granted to show notifications\");\n              }\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              if (!(Platform.OS === \"android\")) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.next = 13;\n              return _regeneratorRuntime.awrap(Notifications.createChannelAndroidAsync('notify', {\n                name: 'notify',\n                sound: true,\n                vibrate: true\n              }));\n\n            case 13:\n              return _context.abrupt(\"return\", permission);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"presentLocalNotification\",\n    value: function presentLocalNotification(date) {\n      return _regeneratorRuntime.async(function presentLocalNotification$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(this.getPermissions());\n\n            case 2:\n              Notifications.presentLocalNotificationAsync({\n                title: \"Your Reservation\",\n                body: \"Reservation for\" + date + \" requested\",\n                ios: {\n                  sound: true\n                },\n                android: {\n                  channelId: \"notify\",\n                  color: \"#512DA8\"\n                }\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      this.setState({\n        smoking: false,\n        date: \"\",\n        guests: 1\n      });\n    }\n  }, {\n    key: \"handleReservation\",\n    value: function handleReservation() {\n      console.log(JSON.stringify(this.state));\n    }\n  }, {\n    key: \"toggleModal\",\n    value: function toggleModal() {\n      this.setState({\n        showModal: !this.state.showModal\n      });\n    }\n  }, {\n    key: \"smoking\",\n    value: function smoking() {\n      if (this.state.smoking) return \"Yes\";else return \"No\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Animatable.View, {\n        animation: \"zoomIn\",\n        duration: 2000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.formContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.fromLabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, \"Number of Guests\"), React.createElement(Picker, {\n        style: styles.formItem,\n        selectedValue: this.state.guests,\n        onValueChange: function onValueChange(itemValue, itemIndex) {\n          return _this2.setState({\n            guests: itemValue\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }\n      }, React.createElement(Picker.Item, {\n        label: \"1\",\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"2\",\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"3\",\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"4\",\n        value: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"5\",\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"6\",\n        value: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }\n      }))), React.createElement(View, {\n        style: styles.formContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.fromLabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }, \"Smoking/Non-smoking ?\"), React.createElement(Switch, {\n        style: styles.formItem,\n        value: this.state.smoking,\n        trackColor: \"#512DA8\",\n        onValueChange: function onValueChange(value) {\n          return _this2.setState({\n            smoking: value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: styles.formContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      }, \"Please pick a date.\"), React.createElement(DatePicker, {\n        style: {\n          flex: 2,\n          marginRight: 20\n        },\n        date: this.state.date,\n        format: \"\",\n        placeholder: \"Please select a date\",\n        minDate: \"2020-07-17\",\n        confirmBtnText: \"Confirm\",\n        cancelBtnText: \"Cancel\",\n        customStyles: {\n          dateIcon: {\n            position: \"absolute\",\n            left: 0,\n            top: 4,\n            marginLeft: 0\n          },\n          dateInput: {\n            marginLeft: 36\n          }\n        },\n        onDateChange: function onDateChange(date) {\n          _this2.setState({\n            date: date\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: styles.formContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          _this2.presentLocalNotification(_this2.state.date);\n\n          _this2.formAlert();\n        },\n        title: \"Reserve\",\n        color: \"#512DA8\",\n        accessibilityLabel: \"Learn more about this purple button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return Reserve;\n}(Component);\n\nvar styles = StyleSheet.create({\n  formContainer: {\n    flexDirection: \"row\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    margin: 20\n  },\n  fromLabel: {\n    flex: 2,\n    fontSize: 18\n  },\n  formItem: {\n    flex: 1\n  },\n  modal: {\n    justifyContent: 'center',\n    margin: 20\n  },\n  modalTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    backgroundColor: '#512DA8',\n    textAlign: 'center',\n    color: 'white',\n    marginBottom: 20\n  },\n  modalText: {\n    fontSize: 18,\n    margin: 10\n  }\n});\nexport default Reserve;","map":{"version":3,"sources":["C:/Users/Michal/WebstormProjects/new_react/my-react-app/components/ReserveComponent.js"],"names":["React","Component","DatePicker","Animatable","Notifications","Permissions","Reserve","props","formAlert","Alert","alert","state","guests","smoking","date","text","onPress","console","log","JSON","stringify","resetForm","style","cancelable","showModal","getAsync","USER_FACING_NOTIFICATIONS","permission","status","Platform","OS","createChannelAndroidAsync","name","sound","vibrate","getPermissions","presentLocalNotificationAsync","title","body","ios","android","channelId","color","setState","styles","formContainer","fromLabel","formItem","itemValue","itemIndex","value","flex","marginRight","dateIcon","position","left","top","marginLeft","dateInput","presentLocalNotification","StyleSheet","create","flexDirection","alignItems","justifyContent","margin","fontSize","modal","modalTitle","fontWeight","backgroundColor","textAlign","marginBottom","modalText"],"mappings":"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","sourcesContent":["import React , {Component} from \"react\"\r\nimport {View, Text, Picker, StyleSheet, Button, Switch, Alert, Platform} from \"react-native\";\r\nimport DatePicker from \"react-native-datepicker\";\r\nimport * as Animatable from \"react-native-animatable\"\r\nimport {Notifications} from \"expo\"\r\nimport * as Permissions from \"expo-permissions\"\r\n\r\nclass Reserve extends Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            smoking: false,\r\n            date:\"\",\r\n            guests:1,\r\n            showModal:false\r\n        }\r\n    }\r\n\r\n    async getPermissions() {\r\n        let permission = await Permissions.getAsync(Permissions.USER_FACING_NOTIFICATIONS);\r\n        if(permission.status !== \"granted\")\r\n        {\r\n            permission = await Permissions.getAsync(Permissions.USER_FACING_NOTIFICATIONS);\r\n            if(permission.status !== \"granted\")\r\n            {Alert.alert(\"Permission not granted to show notifications\")}\r\n        }\r\n        else {if (Platform.OS === \"android\") {\r\n           await  Notifications.createChannelAndroidAsync('notify', {\r\n                name: 'notify',\r\n                sound: true,\r\n                vibrate: true,\r\n\r\n            });\r\n        } }\r\n        return permission\r\n    }\r\n\r\n    async presentLocalNotification(date) {\r\n        await this.getPermissions();\r\n      Notifications.presentLocalNotificationAsync(\r\n            {\r\n                title:\"Your Reservation\",\r\n                body:\"Reservation for\" + date + \" requested\",\r\n                ios:{\r\n                    sound:true\r\n                },\r\n                android:{\r\n                    channelId:\"notify\",\r\n                    color:\"#512DA8\"\r\n                }\r\n\r\n            }\r\n        );\r\n\r\n\r\n    }\r\n\r\n    resetForm() {\r\n        this.setState({smoking:false , date:\"\" , guests:1});\r\n    }\r\n\r\n    handleReservation() {\r\n        console.log(JSON.stringify(this.state));\r\n    }\r\n\r\n    toggleModal() {\r\n        this.setState({showModal: !this.state.showModal});\r\n    }\r\n\r\n    smoking() {\r\n       if (this.state.smoking)\r\n           return \"Yes\";\r\n        else\r\n            return \"No\"\r\n    }\r\n\r\n    formAlert = () =>\r\n        Alert.alert(\r\n            \"Your Reservation OK?\",\r\n            `Number of guests: ${this.state.guests}\\nSmoking? ${this.smoking()}\\nDate and Time ${this.state.date}\\n` ,\r\n            [\r\n                {\r\n                    text:\"Ok\",\r\n                    onPress: () => console.log(JSON.stringify(this.state),this.resetForm()),\r\n                },\r\n                {\r\n                    text:\"Cancel\",\r\n                    onPress:() => this.resetForm(),\r\n                    style:\"cancel\"\r\n                }\r\n            ],\r\n            {cancelable:false}\r\n        );\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Animatable.View animation=\"zoomIn\" duration={2000}>\r\n                <View style={styles.formContainer}>\r\n                    <Text style={styles.fromLabel}>Number of Guests</Text>\r\n                    <Picker\r\n                        style={styles.formItem}\r\n                        selectedValue={this.state.guests}\r\n                        onValueChange={(itemValue, itemIndex) => this.setState({guests: itemValue})}>\r\n                        <Picker.Item label=\"1\" value=\"1\" />\r\n                        <Picker.Item label=\"2\" value=\"2\" />\r\n                        <Picker.Item label=\"3\" value=\"3\" />\r\n                        <Picker.Item label=\"4\" value=\"4\" />\r\n                        <Picker.Item label=\"5\" value=\"5\" />\r\n                        <Picker.Item label=\"6\" value=\"6\" />\r\n                    </Picker>\r\n                </View>\r\n                <View style={styles.formContainer}>\r\n                    <Text style={styles.fromLabel}>Smoking/Non-smoking ?</Text>\r\n                    <Switch\r\n                    style={styles.formItem}\r\n                    value={this.state.smoking}\r\n                    trackColor=\"#512DA8\"\r\n                    onValueChange={(value => this.setState({smoking: value}))}\r\n                    ></Switch>\r\n                </View>\r\n                <View style={styles.formContainer}>\r\n                    <Text>Please pick a date.</Text>\r\n                    <DatePicker\r\n                    style={{flex:2 , marginRight:20}}\r\n                    date={this.state.date}\r\n                    format=\"\"\r\n                    placeholder=\"Please select a date\"\r\n                    minDate=\"2020-07-17\"\r\n                    confirmBtnText=\"Confirm\"\r\n                    cancelBtnText=\"Cancel\"\r\n                    customStyles={ {\r\n                        dateIcon: {\r\n                            position:\"absolute\",\r\n                            left:0,\r\n                            top:4,\r\n                            marginLeft:0\r\n                        },\r\n                        dateInput:{\r\n                            marginLeft: 36\r\n                        }\r\n                    }}\r\n                    onDateChange={(date) => {this.setState({date:date})}}\r\n                    ></DatePicker>\r\n                </View>\r\n                <View style={styles.formContainer}>\r\n                    <Button\r\n                        onPress={() => {this.presentLocalNotification(this.state.date);this.formAlert()}}\r\n                        title=\"Reserve\"\r\n                        color=\"#512DA8\"\r\n                        accessibilityLabel=\"Learn more about this purple button\"\r\n                    />\r\n                </View>\r\n            </Animatable.View>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create (\r\n    {\r\n\r\n        formContainer : {\r\n            flexDirection:\"row\",\r\n            flex:1,\r\n            alignItems:\"center\",\r\n            justifyContent:\"center\",\r\n            margin:20\r\n        },\r\n\r\n    fromLabel: {\r\n        flex:2,\r\n        fontSize:18\r\n    },\r\n\r\n    formItem: {\r\n            flex:1,\r\n    },\r\n        modal:{justifyContent: 'center',\r\n            margin: 20},\r\n        modalTitle:{ fontSize: 24,\r\n            fontWeight: 'bold',\r\n            backgroundColor: '#512DA8',\r\n            textAlign: 'center',\r\n            color: 'white',\r\n            marginBottom: 20},\r\n        modalText:{ fontSize: 18,\r\n            margin: 10}\r\n    }\r\n);\r\n\r\nexport default Reserve;\r\n"]},"metadata":{},"sourceType":"module"}